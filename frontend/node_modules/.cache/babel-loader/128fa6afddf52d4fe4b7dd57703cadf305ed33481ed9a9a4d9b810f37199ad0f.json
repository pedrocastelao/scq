{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pedro\\\\Documents\\\\SCA\\\\ProjetoFinal\\\\frontend\\\\saqe\\\\src\\\\pages\\\\menu.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Context } from \"../context/authContext\";\nimport \"./menu.css\";\nimport ModalPerfil from \"./modalPerfil\";\nimport api from \"./api\";\nimport authService from \"./authService\";\nimport Loading from \"./loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Menu() {\n  _s();\n  const [showModal, setShowModal] = useState(false);\n  const [clientInfo, setClientInfo] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const {\n    handleLogout\n  } = useContext(Context);\n\n  // Use o useEffect para chamar fetchData quando o componente for montado\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = authService.getToken();\n        const response = await api.get(\"/cliente-info\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            // Adicione o token JWT no cabeçalho Authorization\n            \"Content-Type\": \"application/json\" // Especifique o tipo de conteúdo da solicitação\n          }\n        });\n\n        if (response.status === 200) {\n          setClientInfo(response.data);\n        } else {\n          alert(\"Erro ao carregar informações do cliente. Tente novamente mais tarde.\");\n        }\n      } catch (error) {\n        console.error(\"Erro ao carregar informações do cliente:\", error);\n        alert(\"Erro ao carregar informações do cliente. Tente novamente mais tarde.\");\n      } finally {\n        setLoading(false); // Define loading como false após a conclusão do carregamento\n      }\n    };\n\n    fetchData();\n  }, []);\n  const openModal = () => {\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-logo\",\n      children: \"Seu Logo Aqui\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-actions\",\n      children: [clientInfo && clientInfo.email && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: clientInfo.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"profile-button\",\n        onClick: openModal,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          fill: \"currentColor\",\n          class: \"bi bi-person-circle\",\n          viewBox: \"0 0 16 16\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            \"fill-rule\": \"evenodd\",\n            d: \"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logout-button\",\n        onClick: handleLogout,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          fill: \"currentColor\",\n          className: \"bi bi-box-arrow-in-right\",\n          viewBox: \"0 0 16 16\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            \"fill-rule\": \"evenodd\",\n            d: \"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            \"fill-rule\": \"evenodd\",\n            d: \"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalPerfil, {\n        showModal: showModal,\n        closeModal: closeModal,\n        clientInfo: clientInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Menu, \"3N4U76OpUjtzIAyFdty4EyoITY8=\");\n_c = Menu;\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useContext","useState","useEffect","Context","ModalPerfil","api","authService","Loading","jsxDEV","_jsxDEV","Menu","_s","showModal","setShowModal","clientInfo","setClientInfo","loading","setLoading","handleLogout","fetchData","token","getToken","response","get","headers","Authorization","status","data","alert","error","console","openModal","closeModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","email","onClick","xmlns","width","height","fill","class","viewBox","d","_c","$RefreshReg$"],"sources":["C:/Users/Pedro/Documents/SCA/ProjetoFinal/frontend/saqe/src/pages/menu.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Context } from \"../context/authContext\";\r\nimport \"./menu.css\";\r\nimport ModalPerfil from \"./modalPerfil\";\r\nimport api from \"./api\";\r\nimport authService from \"./authService\";\r\nimport Loading from \"./loading\";\r\n\r\nfunction Menu() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [clientInfo, setClientInfo] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const { handleLogout } = useContext(Context);\r\n\r\n  // Use o useEffect para chamar fetchData quando o componente for montado\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const token = authService.getToken();\r\n        const response = await api.get(\"/cliente-info\", {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`, // Adicione o token JWT no cabeçalho Authorization\r\n            \"Content-Type\": \"application/json\", // Especifique o tipo de conteúdo da solicitação\r\n          },\r\n        });\r\n        if (response.status === 200) {\r\n          setClientInfo(response.data);\r\n        } else {\r\n          alert(\r\n            \"Erro ao carregar informações do cliente. Tente novamente mais tarde.\"\r\n          );\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Erro ao carregar informações do cliente:\", error);\r\n        alert(\r\n          \"Erro ao carregar informações do cliente. Tente novamente mais tarde.\"\r\n        );\r\n      } finally {\r\n        setLoading(false); // Define loading como false após a conclusão do carregamento\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const openModal = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"navbar-logo\">Seu Logo Aqui</div>\r\n      <div className=\"navbar-actions\">\r\n        {clientInfo && clientInfo.email && <span>{clientInfo.email}</span>}\r\n        <button className=\"profile-button\" onClick={openModal}>\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-person-circle\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0\" />\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1\"\r\n            />\r\n          </svg>\r\n        </button>\r\n        <button className=\"logout-button\" onClick={handleLogout}>\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            className=\"bi bi-box-arrow-in-right\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0z\"\r\n            />\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n        <ModalPerfil\r\n          showModal={showModal}\r\n          closeModal={closeModal}\r\n          clientInfo={clientInfo}\r\n        />\r\n      </div>\r\n      {loading && <Loading />}{\" \"}\r\n      {/* Renderiza o componente de Loading se loading for true */}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}