{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pedro\\\\Documents\\\\SCA\\\\ProjetoFinal\\\\frontend\\\\saqe\\\\src\\\\Screen\\\\TelaDeCadastroDeUsuario.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Pagina from \"../templates/Pagina\";\nimport FormCadUsuario from \"../Forms/FormCadUsuario\";\nimport TabelaUsuario from \"../Tables/TabelaDeUsuario\";\nimport TelaCarregamento from \"./TelaCarregamento\";\nimport TelaErro from \"./TelaErro\";\nimport STATUS from \"../Util/util\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TelaCadastroDeUsuario(props) {\n  _s();\n  const [status, setStatus] = useState(STATUS.sucesso);\n  const [listaUsuario, setListaUsuario] = useState([]);\n  const [atualizando, setAtualizando] = useState(false);\n  const [exibeTabela, setExibirTabela] = useState(true);\n  const [usuarioEmEdicao, setUsuarioEmEdicao] = useState({\n    id: 0,\n    name: \"\",\n    cpf: \"\",\n    celular: \"\",\n    email: \"\",\n    senha: \"\"\n  });\n  const [excluirUsuario, setExcluirUsuario] = useState({});\n  const [acao, setAcao] = useState(\"\");\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setStatus(STATUS.ocioso);\n        const response = await fetch(\"http://localhost:4000/usuario\", {\n          method: \"GET\"\n        });\n        const dados = await response.json();\n        setListaUsuario(dados);\n        setStatus(STATUS.sucesso);\n      } catch (erro) {\n        setStatus(STATUS.erro);\n        console.error(erro.message);\n      }\n    }\n    fetchData();\n  }, []);\n  function prepararAcao(acao) {\n    setAcao(acao);\n  }\n  function prepararUsuarioExcluir(usuario) {\n    setExcluirUsuario(usuario);\n  }\n  function prepararUsuarioEdicao(usuario) {\n    setAtualizando(true);\n    setUsuarioEmEdicao(usuario);\n  }\n  return exibeTabela ? renderizarTabela() : renderizarFormulario();\n  function renderizarTabela() {\n    switch (status) {\n      case STATUS.ocioso:\n        return /*#__PURE__*/_jsxDEV(TelaCarregamento, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }, this);\n      case STATUS.sucesso:\n        return /*#__PURE__*/_jsxDEV(Pagina, {\n          children: /*#__PURE__*/_jsxDEV(TabelaUsuario, {\n            dados: listaUsuario,\n            onTabela: setExibirTabela,\n            editarUsuario: prepararUsuarioEdicao,\n            editarAtualizando: setAtualizando,\n            dadosExcluir: prepararUsuarioExcluir,\n            acaoEditar: setAcao,\n            acaoBotao: prepararAcao\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this);\n      case STATUS.erro:\n        return /*#__PURE__*/_jsxDEV(TelaErro, {\n          messagem: \"N\\xE3o foi poss\\xEDvel recuperar os dados dos Usu\\xE1rios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  }\n  function renderizarFormulario() {\n    return /*#__PURE__*/_jsxDEV(Pagina, {\n      children: /*#__PURE__*/_jsxDEV(FormCadUsuario, {\n        usuarios: usuarioEmEdicao,\n        exclui: excluirUsuario,\n        listaUsuario: listaUsuario,\n        atualizando: atualizando,\n        onTabela: setExibirTabela,\n        botAcao: acao\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(TelaCadastroDeUsuario, \"XAoD7FP3IGua3niSRWr6in9Vvqs=\");\n_c = TelaCadastroDeUsuario;\nvar _c;\n$RefreshReg$(_c, \"TelaCadastroDeUsuario\");","map":{"version":3,"names":["React","useState","useEffect","Pagina","FormCadUsuario","TabelaUsuario","TelaCarregamento","TelaErro","STATUS","jsxDEV","_jsxDEV","TelaCadastroDeUsuario","props","_s","status","setStatus","sucesso","listaUsuario","setListaUsuario","atualizando","setAtualizando","exibeTabela","setExibirTabela","usuarioEmEdicao","setUsuarioEmEdicao","id","name","cpf","celular","email","senha","excluirUsuario","setExcluirUsuario","acao","setAcao","fetchData","ocioso","response","fetch","method","dados","json","erro","console","error","message","prepararAcao","prepararUsuarioExcluir","usuario","prepararUsuarioEdicao","renderizarTabela","renderizarFormulario","fileName","_jsxFileName","lineNumber","columnNumber","children","onTabela","editarUsuario","editarAtualizando","dadosExcluir","acaoEditar","acaoBotao","messagem","usuarios","exclui","botAcao","_c","$RefreshReg$"],"sources":["C:/Users/Pedro/Documents/SCA/ProjetoFinal/frontend/saqe/src/Screen/TelaDeCadastroDeUsuario.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Pagina from \"../templates/Pagina\";\r\nimport FormCadUsuario from \"../Forms/FormCadUsuario\";\r\nimport TabelaUsuario from \"../Tables/TabelaDeUsuario\";\r\nimport TelaCarregamento from \"./TelaCarregamento\";\r\nimport TelaErro from \"./TelaErro\";\r\nimport STATUS from \"../Util/util\";\r\n\r\nexport default function TelaCadastroDeUsuario(props) {\r\n  const [status, setStatus] = useState(STATUS.sucesso);\r\n  const [listaUsuario, setListaUsuario] = useState([]);\r\n  const [atualizando, setAtualizando] = useState(false);\r\n  const [exibeTabela, setExibirTabela] = useState(true);\r\n  const [usuarioEmEdicao, setUsuarioEmEdicao] = useState({\r\n    id: 0,\r\n    name: \"\",\r\n    cpf: \"\",\r\n    celular: \"\",\r\n    email: \"\",\r\n    senha: \"\",\r\n  });\r\n  const [excluirUsuario, setExcluirUsuario] = useState({});\r\n  const [acao, setAcao] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        setStatus(STATUS.ocioso);\r\n        const response = await fetch(\"http://localhost:4000/usuario\", {\r\n          method: \"GET\",\r\n        });\r\n        const dados = await response.json();\r\n        setListaUsuario(dados);\r\n        setStatus(STATUS.sucesso);\r\n      } catch (erro) {\r\n        setStatus(STATUS.erro);\r\n        console.error(erro.message);\r\n      }\r\n    }\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  function prepararAcao(acao) {\r\n    setAcao(acao);\r\n  }\r\n\r\n  function prepararUsuarioExcluir(usuario) {\r\n    setExcluirUsuario(usuario);\r\n  }\r\n\r\n  function prepararUsuarioEdicao(usuario) {\r\n    setAtualizando(true);\r\n    setUsuarioEmEdicao(usuario);\r\n  }\r\n\r\n  return exibeTabela ? renderizarTabela() : renderizarFormulario();\r\n\r\n  function renderizarTabela() {\r\n    switch (status) {\r\n      case STATUS.ocioso:\r\n        return <TelaCarregamento />;\r\n      case STATUS.sucesso:\r\n        return (\r\n          <Pagina>\r\n            <TabelaUsuario\r\n              dados={listaUsuario}\r\n              onTabela={setExibirTabela}\r\n              editarUsuario={prepararUsuarioEdicao}\r\n              editarAtualizando={setAtualizando}\r\n              dadosExcluir={prepararUsuarioExcluir}\r\n              acaoEditar={setAcao}\r\n              acaoBotao={prepararAcao}\r\n            />\r\n          </Pagina>\r\n        );\r\n      case STATUS.erro:\r\n        return (\r\n          <TelaErro messagem=\"Não foi possível recuperar os dados dos Usuários\" />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderizarFormulario() {\r\n    return (\r\n      <Pagina>\r\n        <FormCadUsuario\r\n          usuarios={usuarioEmEdicao}\r\n          exclui={excluirUsuario}\r\n          listaUsuario={listaUsuario}\r\n          atualizando={atualizando}\r\n          onTabela={setExibirTabela}\r\n          botAcao={acao}\r\n        />\r\n      </Pagina>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}